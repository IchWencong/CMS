USE cms;
DROP TABLE IF EXISTS user;
DROP TABLE IF EXISTS nav;
DROP TABLE IF EXISTS article;
DROP TABLE IF EXISTS _comment;
DROP TABLE IF EXISTS basic;

CREATE TABLE IF NOT EXISTS user(
    id SMALLINT UNSIGNED PRIMARY KEY AUTO_INCREMENT,
    username VARCHAR(20) NOT NULL,
    password CHAR(40) NOT NULL,
    realname VARCHAR(20) NOT NULL DEFAULT 'FIREUP',
    last_login_time DATETIME NOT NULL
)DEFAULT CHARSET=UTF8;

INSERT INTO user(username,password,realname,last_login_time) VALUES('admin', sha1('admin'),'薛文聪',NOW());

CREATE TABLE IF NOT EXISTS nav(
    nav_id SMALLINT UNSIGNED PRIMARY KEY AUTO_INCREMENT,
    nav_name VARCHAR(6) NOT NULL,
    nav_pid SMALLINT UNSIGNED NOT NULL DEFAULT 0,
    nav_status TINYINT UNSIGNED NOT NULL DEFAULT 1,
    nav_order SMALLINT UNSIGNED NOT NULL
)DEFAULT CHARSET=UTF8;

CREATE TABLE IF NOT EXISTS article(
    a_id INT UNSIGNED PRIMARY KEY AUTO_INCREMENT,
    a_catid SMALLINT NOT NULL,
    a_title VARCHAR(50) NOT NULL,
    a_status TINYINT UNSIGNED NOT NULL DEFAULT 1,
    a_copy_from VARCHAR(10) NOT NULL DEFAULT '本站',
    a_create_time DATETIME NOT NULL,
    a_count SMALLINT UNSIGNED NOT NULL DEFAULT 0,
    a_cont TEXT NOT NULL
)DEFAULT CHARSET=UTF8;

CREATE TABLE IF NOT EXISTS _comment(
    c_id SMALLINT UNSIGNED PRIMARY KEY AUTO_INCREMENT,
    c_nickname VARCHAR(20) NOT NULL DEFAULT '匿名',
    c_cont VARCHAR(140) NOT NULL,
    c_time DATETIME NOT NULL,
    c_a_id INT UNSIGNED NOT NULL
)DEFAULT CHARSET=UTF8;

CREATE TABLE IF NOT EXISTS basic(
    web_title VARCHAR(12) NOT NULL,
    web_keywords VARCHAR(30) NOT NULL,
    web_desc VARCHAR(50) NOT NULL
)DEFAULT CHARSET=UTF8;

INSERT INTO basic VALUES ('fireupCMS', 'fireupcms  资讯 体育 新闻 科技', 'ingcms资讯网是提供最新的体育等栏目的新闻网站');
